# 罪語者 (Verbal Sinner) - 企劃文件

## 📋 文件結構

> ✅ 新增入口（給人看的索引）：`索引.md`  
> - 給工程：`給工程/README.md`  
> - 給美術：`給美術/README.md`

### ✅ 新版本文件（當前使用）

```
企劃/
├── README.md                    # 本文件
├── 核心概念.md                  # 核心概念（沉浸用語規範在此）
├── 遊戲流程.md                  # 故事流程（文件名保留，但內容為沉浸版）
├── 前情提要腳本.md              # 2分鐘前情提要腳本
├── 復活機制.md                  # 復活機制設計
├── 出場角色.md                  # 角色初始屬性/對話造成的屬性變動 ⭐
├── 完整故事情節.md              # 新版本完整故事情節（詳細版）⭐
├── 挑戰系統.md                  # 挑戰系統（統一版：精簡10關鍵時刻）⭐
├── 對話機制設計.md              # 對話機制與情緒系統
├── 角色Prompt定義.md            # 角色 Prompt 定義（ComfyUI 使用）⭐
├── 產品分析報告.md              # 產品經理分析報告（優先級、風險、建議）
│
├── Moment Spec 表.md            # 配置表（目前仍保留 14 幕供擴充）⭐
├── Options Data 格式.md         # 對話輪次/選項資料結構 ⭐
├── moment-configs/               # 14 個時刻的完整 JSON 配置（精簡10主線會取子集）⭐
│   ├── moment-01.json ~ moment-14.json
│
├── 線索系統實現.md              # 線索收集/顯示/分析/推理的完整機制 ⭐
├── 結局系統詳細設計.md          # 結局觸發條件/內容/呈現/選擇 ⭐
├── API端點實現文檔.md           # 所有 API 的請求/響應格式/錯誤處理 ⭐
├── 難度平衡測試數據.md          # 預期通過率/屬性變動平衡/測試用例 ⭐
├── Moment Spec 與 Options Data 對應實例.md  # 對應關係與驗證規則 ⭐
├── 插話模板庫.md                # 所有插話 templateKey 對應的具體台詞 ⭐
├── 驗證腳本.md                  # Moment Configs 完整性驗證腳本 ⭐
│
├── 計分公式.md                  # b/t/scar/rewinds 計算公式
├── 金手指提示庫.md              # 方向型心聲模板與種子
├── 介面字串表.md                # 所有畫面文字的集中管理
├── 技術架構設計.md              # 技術選型與架構設計
├── Firebase環境規劃.md           # Firebase 完整環境規劃
└── AI對話串接.md                # AI 對話整合設計
```

### 📦 其他文件（草稿/參考）

- `新故事線設計.md`：舊草稿（含朋友線），目前以 `完整故事情節.md` + `挑戰系統.md` 為準

## 🎯 核心概念

**因為人生過得很慘，於是回到5年前，重新開始，並獲得系統幫助。**

**故事核心**：5年前（2019年），你認識了辦公室同事。他們一開始對你很好，但從2019年7月開始，你一次次把界線讓出去，工作被傾倒、尊嚴被耗損，最後走向過勞猝死。現在你要回到過去，在 10 次關鍵對話裡找回信心與尊嚴，看懂「壓垮你的機制」，改寫命運。

## 🧭 故事流程

1. **前情提要（2分鐘）**：展現你悲慘人生的關鍵片段，系統出現
2. **決定復活**：你選擇復活，必須觀看廣告
3. **時空轉換**：回到5年前（2019年）
4. **10次挑戰（精簡版主線）**：10個關鍵時刻（職場/辦公室霸凌延伸/自我），收集線索看懂機制並改變行為模式
5. **成功復活**：完成所有10個挑戰（精簡版主線），獲得全新未來

## 📚 版本說明

### 新版本（當前使用）⭐

- **故事設定**：時光倒流（回到5年前的現實世界，2019-2024年）
- **挑戰數量（主線）**：10個挑戰（精簡10關鍵時刻）
- **挑戰分類（主線）**：
  - 職場類：6個挑戰（同事A、主管、HR、同事B）
  - 辦公室霸凌延伸類：3個挑戰（同事C）
  - 自我認同類：1個挑戰（最後求救）
- **故事時間軸**：
  - 第一階段（2019年1-6月）：認識與建立關係
  - 第二階段（2019年7-12月）：開始被霸凌
  - 第三階段（2020年1-6月）：深淵邊緣

### 舊版本（已棄用）

- **故事設定**：包含家庭關係類挑戰（已移除）
- **挑戰分類**：家庭關係、職場挫敗、人際關係、自我認同
- **狀態**：僅供參考，不再使用

### 與更早版本的差異

- **更早版本**：穿書重生（進入書中世界）
- **新版本**：時光倒流（回到5年前的現實世界）
- **更早版本**：多個副本世界（玄幻、都市、宮廷等）
- **新版本**：單一時間線，針對過去事件進行反駁

## 後續擴展

- **副本系統**：原本的穿書重生內容將作為副本系統，後續再處理
- **對話系統**：改寫系統的對話機制後續完善
- **付費機制**：廣告略過、加速改寫等付費選項

## 🚀 開發優先級

### 第一階段（核心功能）
1. ✅ 前情提要腳本（2分鐘）
2. ✅ 復活機制（看廣告）
3. ✅ 角色屬性與狀態（出場角色）
4. ✅ 改寫系統設計（精簡10關鍵時刻）
5. ✅ 對話機制設計
6. ⏳ 改寫系統（基礎框架開發）
7. ⏳ 對話系統（基礎功能開發）

### 第二階段（完善功能）
1. 對話系統完善（AI整合）
2. 10 個時刻（主線）完整內容設計
3. 痕跡系統
4. 成就系統
5. 視覺呈現優化

### 第三階段（擴展功能）
1. 副本系統（穿書重生內容）
2. 付費機制
3. 社交功能
4. 數據分析

## 注意事項

- **先確認概念**：核心概念和流程先確認，再進行詳細設計
- **可先略過**：改寫系統的對話機制可先略過，後續再完善
- **後續處理**：原本的穿書重生內容作為副本，後續再處理

## 產品分析

詳細的產品分析報告請參考：[產品分析報告.md](./產品分析報告.md)

**重點摘要**：
- ✅ 概念確認完成，可進入開發階段
- ✅ 改寫系統設計完成（職場8、情人5、自我1）
- ⚠️ 建議先做 MVP（10-14個時刻）
- ⚠️ 對話系統先使用簡化版（選擇題模式）
- 📋 需要技術架構師評估技術實現路徑

## 📖 文件閱讀順序建議

### 第一階段：核心概念（必讀）

1. **核心概念.md** - 了解核心機制與沉浸用語規範
2. **完整故事情節.md** - 深入了解完整故事（詳細版）
3. **挑戰系統.md** - 了解精簡10關鍵時刻與系統規則
4. **出場角色.md** - 了解屬性/情緒映射/毒舌系統
5. **對話機制設計.md** - 了解對話系統與情緒機制

### 第二階段：遊戲流程（必讀）

6. **遊戲流程.md** - 了解整體故事流程（沉浸版）
7. **前情提要腳本.md** - 了解2分鐘前情提要
8. **復活機制.md** - 了解復活機制設計（含回到5分鐘前：看一次廣告＝再試一次）

### 第三階段：系統設計（開發必讀）

9. **Moment Spec 表.md** - 了解配置表（仍保留 14 幕供擴充）
10. **Options Data 格式.md** - 了解對話輪次/選項資料結構
11. **Moment Spec 與 Options Data 對應實例.md** - 了解對應關係與驗證規則
12. **moment-configs/** - 查看 14 個時刻的完整 JSON 配置（精簡10主線會取子集）
13. **插話模板庫.md** - 了解插話系統的具體台詞
14. **驗證腳本.md** - 了解如何驗證 moment-configs 的完整性

### 第四階段：進階系統（開發必讀）

13. **線索系統實現.md** - 了解線索收集/顯示/分析/推理機制
14. **結局系統詳細設計.md** - 了解結局觸發條件/內容/呈現/選擇
15. **計分公式.md** - 了解 b/t/scar/rewinds 計算公式
16. **金手指提示庫.md** - 了解方向型心聲模板與種子

### 第五階段：技術實現（開發必讀）

17. **技術架構設計.md** - 了解技術選型與架構設計
18. **Firebase環境規劃.md** - 了解 Firebase 完整環境規劃
19. **AI對話串接.md** - 了解 AI 對話整合設計
20. **API端點實現文檔.md** - 了解所有 API 的請求/響應格式

### 第六階段：測試與優化（後續）

21. **難度平衡測試數據.md** - 了解預期通過率/屬性變動平衡/測試用例
22. **產品分析報告.md** - 了解產品優先級與風險分析
23. **介面字串表.md** - 了解所有畫面文字的集中管理
24. **角色Prompt定義.md** - 了解角色 Prompt 定義（ComfyUI 使用）

