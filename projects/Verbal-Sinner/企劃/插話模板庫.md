# 插話模板庫

> 目的：定義所有 `supportInterjections` 中 `templateKey` 對應的具體台詞，確保插話系統有完整內容。  
> 依賴文件：`Options Data 格式.md`、`出場角色.md`、`moment-configs/moment-*.json`。

---

## 使用規則

### 觸發條件

插話會在以下情況觸發：
- `when` 條件滿足（例如：`同事A.恐懼>=70`）
- 當前輪次尚未結束
- `priority` 決定插話順序（數字越大越優先）

### 插話時機

- 在玩家選擇選項**之前**（作為警告或提示）
- 在玩家選擇選項**之後**（作為反應或後續）
- 在 NPC 回應**之後**（作為補充或轉折）

### 插話格式

```json
{
  "npc": "同事A",
  "priority": 8,
  "when": "同事A.恐懼>=70",
  "lineMode": "template",
  "templateKey": "interject.threatened.1"
}
```

---

## 模板庫（按 seedKind 分類）

### WATCH（觀察/監視）

#### interject.watch.1
**使用場景**：時刻 1（初入職場的歡迎），同事A 在觀察你的反應

**台詞選項**（隨機選 1 句）：
1. （同事A 小聲對旁邊的人說）「你看，他連這個都不敢反駁。」
2. （同事A 眼神閃了一下）「他比我想的還軟。」
3. （同事A 低頭記了什麼）「這個人好控制。」
4. （同事A 嘴角微動）「他會是個好用的工具。」
5. （同事A 看向主管，點頭）「這個可以。」
6. （同事A 在你背後低語）「他不會反抗的。」
7. （同事A 眼神在你身上停留）「他會自己把弱點交出來。」
8. （同事A 輕笑）「他比預期的還容易。」
9. （同事A 轉向別人）「這個人不用擔心。」
10. （同事A 眼神冷）「他會自己消失的。」

---

### RUMOR（謠言/抹黑）

#### interject.rumor.1
**使用場景**：時刻 3（職場聚會），同事群在傳播謠言

**台詞選項**（隨機選 1 句）：
1. （同事群 竊竊私語）「聽說他上次那個案子…」
2. （同事群 眼神交換）「你知道嗎？他好像…」
3. （同事群 低笑）「他應該不知道我們在說什麼。」
4. （同事群 轉向旁邊）「欸，你有聽說嗎？」
5. （同事群 眼神閃爍）「這個人問題很多。」
6. （同事群 點頭）「對啊，我也聽說了。」
7. （同事群 竊笑）「他應該不知道吧。」
8. （同事群 低語）「這種人最麻煩了。」
9. （同事群 眼神冷）「他會自己搞砸的。」
10. （同事群 轉向別人）「你覺得他會撐多久？」

#### interject.rumor.2
**使用場景**：時刻 13（情人的徹底傷害），旁人在傳播謠言

**台詞選項**（隨機選 1 句）：
1. （旁人 竊竊私語）「你看，他又來了。」
2. （旁人 眼神交換）「他是不是有問題啊？」
3. （旁人 低笑）「他應該不知道我們在說什麼。」
4. （旁人 轉向旁邊）「欸，你有聽說嗎？他好像…」
5. （旁人 眼神閃爍）「這種人最麻煩了。」
6. （旁人 點頭）「對啊，我也聽說了。」
7. （旁人 竊笑）「他應該不知道吧。」
8. （旁人 低語）「他會自己搞砸的。」
9. （旁人 眼神冷）「他會自己消失的。」
10. （旁人 轉向別人）「你覺得他會撐多久？」

---

### COLLUSION（串通/暗號）

#### interject.collusion.1
**使用場景**：時刻 6（第一次被搶功），同事A 與主管串通

**台詞選項**（隨機選 1 句）：
1. （同事A 看向主管，點頭）「對，就是這樣。」
2. （同事A 眼神示意主管）「他不會發現的。」
3. （同事A 小聲對主管說）「他不敢說什麼的。」
4. （同事A 嘴角微動）「他會自己吞下去的。」
5. （同事A 眼神交換）「我們說好了。」
6. （同事A 轉向主管）「你看，他果然…」
7. （同事A 低語）「他不會反抗的。」
8. （同事A 眼神冷）「他會自己消失的。」
9. （同事A 點頭）「這個可以。」
10. （同事A 看向主管）「他比預期的還容易。」

---

### THREATENED（被威脅/害怕）

#### interject.threatened.1
**使用場景**：時刻 7（被推卸責任），同事A 被威脅

**台詞選項**（隨機選 1 句）：
1. （同事A 眼神閃爍）「我…我不是故意的。」
2. （同事A 低頭）「你不要逼我…」
3. （同事A 聲音顫抖）「我沒有選擇…」
4. （同事A 眼神逃避）「我…我不能說…」
5. （同事A 退後一步）「你不要過來…」
6. （同事A 聲音小）「我…我怕…」
7. （同事A 眼神慌張）「我…我不知道…」
8. （同事A 低頭）「我…我沒辦法…」
9. （同事A 聲音顫抖）「我…我不想…」
10. （同事A 眼神逃避）「我…我不能…」

#### interject.threatened.2
**使用場景**：時刻 11（被陷害離職），同事A 被威脅

**台詞選項**（隨機選 1 句）：
1. （同事A 眼神閃爍）「我…我不是故意的…」
2. （同事A 低頭）「你不要逼我…我真的沒辦法…」
3. （同事A 聲音顫抖）「我…我怕…我真的怕…」
4. （同事A 眼神逃避）「我…我不能說…說了我就完了…」
5. （同事A 退後一步）「你不要過來…我…我沒辦法…」
6. （同事A 聲音小）「我…我怕…我真的怕…」
7. （同事A 眼神慌張）「我…我不知道…我真的不知道…」
8. （同事A 低頭）「我…我沒辦法…我真的沒辦法…」
9. （同事A 聲音顫抖）「我…我不想…但我沒辦法…」
10. （同事A 眼神逃避）「我…我不能…我真的不能…」

#### interject.threatened.3
**使用場景**：時刻 12（職場名聲被毀），同事A 被威脅

**台詞選項**（隨機選 1 句）：
1. （同事A 眼神閃爍）「我…我不是故意的…我真的不是…」
2. （同事A 低頭）「你不要逼我…我真的沒辦法…我…」
3. （同事A 聲音顫抖）「我…我怕…我真的怕…你不要…」
4. （同事A 眼神逃避）「我…我不能說…說了我就完了…真的完了…」
5. （同事A 退後一步）「你不要過來…我…我沒辦法…我真的沒辦法…」
6. （同事A 聲音小）「我…我怕…我真的怕…你不要逼我…」
7. （同事A 眼神慌張）「我…我不知道…我真的不知道…我…」
8. （同事A 低頭）「我…我沒辦法…我真的沒辦法…我…」
9. （同事A 聲音顫抖）「我…我不想…但我沒辦法…我真的沒辦法…」
10. （同事A 眼神逃避）「我…我不能…我真的不能…我…」

---

### KNOW（知情/心虛）

#### interject.know.1
**使用場景**：時刻 11（被陷害離職），主管知情

**台詞選項**（隨機選 1 句）：
1. （主管 眼神閃爍）「我…我不知道你在說什麼…」
2. （主管 低頭）「這件事…我不清楚…」
3. （主管 聲音變小）「我…我沒有參與…」
4. （主管 眼神逃避）「我…我不記得了…」
5. （主管 轉向別處）「這件事…你去問別人…」
6. （主管 聲音顫抖）「我…我真的不知道…」
7. （主管 眼神冷）「你不要問我…」
8. （主管 低頭）「我…我沒有責任…」
9. （主管 聲音小）「我…我不清楚…」
10. （主管 眼神逃避）「我…我不記得了…」

#### interject.know.2
**使用場景**：時刻 8（被當成工具），主管知情

**台詞選項**（隨機選 1 句）：
1. （主管 眼神閃爍）「我…我不知道你在說什麼…」
2. （主管 低頭）「這件事…我不清楚…」
3. （主管 聲音變小）「我…我沒有參與…」
4. （主管 眼神逃避）「我…我不記得了…」
5. （主管 轉向別處）「這件事…你去問別人…」
6. （主管 聲音顫抖）「我…我真的不知道…」
7. （主管 眼神冷）「你不要問我…」
8. （主管 低頭）「我…我沒有責任…」
9. （主管 聲音小）「我…我不清楚…」
10. （主管 眼神逃避）「我…我不記得了…」

---

## 模板擴充規則

### 新增模板

當需要新增模板時：
1. 確定 `templateKey` 格式：`interject.{seedKind}.{序號}`
2. 定義至少 10 句台詞（確保隨機性）
3. 確保台詞符合角色性格（參考 `出場角色.md`）
4. 確保台詞符合沉浸用語規範（參考 `介面字串表.md`）

### 台詞設計原則

1. **簡潔**：每句台詞不超過 20 字
2. **符合角色**：台詞必須符合角色的性格和動機
3. **不劇透**：不直接點名兇手或真相
4. **有張力**：能增加對話的緊張感或轉折
5. **沉浸感**：不使用禁用詞（遊戲、關卡、玩家等）

---

## 工程實現建議

### TypeScript 類型定義

```typescript
interface InterjectionTemplate {
  templateKey: string;
  lines: string[];
  seedKind: 'WATCH' | 'RUMOR' | 'COLLUSION' | 'THREATENED' | 'KNOW' | 'LIE' | 'REPORT' | 'MASK' | 'PROBE' | 'SHAME' | 'SELF' | 'FINAL';
  npc: string;
  description: string;
}

const interjectionTemplates: Record<string, InterjectionTemplate> = {
  'interject.watch.1': {
    templateKey: 'interject.watch.1',
    seedKind: 'WATCH',
    npc: '同事A',
    description: '時刻 1：同事A 在觀察你的反應',
    lines: [
      '（同事A 小聲對旁邊的人說）「你看，他連這個都不敢反駁。」',
      '（同事A 眼神閃了一下）「他比我想的還軟。」',
      // ... 更多台詞
    ]
  },
  // ... 更多模板
};
```

### 隨機選取邏輯

```typescript
function getInterjectionLine(templateKey: string): string {
  const template = interjectionTemplates[templateKey];
  if (!template) {
    throw new Error(`Template not found: ${templateKey}`);
  }
  
  const randomIndex = Math.floor(Math.random() * template.lines.length);
  return template.lines[randomIndex];
}
```

---

## 總結

插話模板庫包括：

1. **WATCH**：觀察/監視類插話（1 個模板，10 句台詞）
2. **RUMOR**：謠言/抹黑類插話（2 個模板，各 10 句台詞）
3. **COLLUSION**：串通/暗號類插話（1 個模板，10 句台詞）
4. **THREATENED**：被威脅/害怕類插話（3 個模板，各 10 句台詞）
5. **KNOW**：知情/心虛類插話（2 個模板，各 10 句台詞）

**總計**：9 個模板，90 句台詞。

建議按照遊戲測試反饋，逐步擴充更多模板和台詞變體。

