# 挑戰系統設計

## 系統概述

- **總挑戰數**：20次
- **挑戰目標**：針對悲慘的事故一一反駁，改變親朋好友的看法
- **挑戰方式**：與NPC角色對話，透過話語影響對方情緒
- **核心機制**：回到5年前，一次一次改變親朋好友的看法
- **對話限制**：每個挑戰限定在3-5句對話內達成目標情緒

---

## 對話機制與情緒系統

### 情緒類型

NPC角色可能產生的情緒狀態：

1. **正面情緒**：
   - **好感**：對玩家產生好感，願意接納
   - **欣賞**：認可玩家的能力或價值
   - **尊重**：開始尊重玩家的意見和存在
   - **愧疚**：意識到自己的錯誤，感到抱歉
   - **認同**：認同玩家的觀點或行為

2. **負面情緒**（可能轉化為正面）：
   - **憤怒**：被激怒，但可能因此正視問題
   - **震驚**：被玩家的話語震撼，開始思考
   - **崩潰**：心理防線被擊破，可能因此改變
   - **慌張**：感到不安，可能因此讓步

3. **中性情緒**：
   - **困惑**：不理解玩家的意圖
   - **冷漠**：對玩家漠不關心（需要改變的初始狀態）

### 對話機制

#### 對話回合限制
- **簡單挑戰**：3句對話內達成目標
- **中等挑戰**：4句對話內達成目標
- **困難挑戰**：5句對話內達成目標

#### 對話流程
1. **NPC初始狀態**：顯示NPC當前情緒（通常是冷漠、忽視）
2. **玩家選擇回應**：從多個選項中選擇話語
3. **情緒變化**：根據玩家選擇，NPC情緒發生變化
4. **達成目標**：達到目標情緒狀態即完成挑戰

#### 成功條件
- 達成目標情緒狀態（例如：讓家人從「冷漠」→「尊重」）
- 在限定回合數內完成
- 改變事件走向

#### 失敗條件
- 超過對話回合限制
- NPC情緒惡化（例如：從「冷漠」→「憤怒」且無法挽回）
- 未能達成目標情緒

---

## 挑戰分類與對應關係

> **注意**：所有挑戰都遵循對話機制，透過與NPC對話在限定回合數內達成目標情緒。詳細機制請參考「對話機制設計.md」文件。
> 
> **故事核心**：從5年前認識這些人開始，他們一開始對你好，但後來一步步陷害你。你要回到過去，改變這一切。

### 1. 職場類（8個挑戰）

**故事線**：認識同事 → 被陷害 → 走向深淵
**對應前情提要場景**：場景一「職場慢性凌遲」
**難度**：簡單-困難（3-5回合）

#### 挑戰1：初入職場的歡迎（2019年1月10日）

**故事背景**：
- 這是回到5年後的第一個挑戰
- 你剛入職，同事們對你很熱情
- 這是美好的開始，但也是陷阱的開始

**具體情境**：
- 你第一天上班，主管和同事A（後來陷害你的人）對你很熱情
- 他們帶你熟悉環境，介紹工作內容
- 同事A說：「歡迎加入！有什麼問題隨時問我。」
- 你感覺很溫暖，覺得找到了好同事

**NPC初始情緒**：主管 - 好感，同事A - 熱情（但這是陷阱）

**對話機制**：
- **回合限制**：3句對話（簡單挑戰）
- **目標情緒**：建立良好的職場關係，但要保持警覺

**對話範例**：
- **同事A**：「歡迎加入！有什麼問題隨時問我。」（熱情）
- **玩家選項**：
  1. 「謝謝！我會努力學習的。」（友好，建立關係）
  2. 「好的，我會的。」（禮貌，保持距離）
  3. 「謝謝你的熱情，我會記住的。」（友好但保持警覺）

**成功路徑**：
- 選擇1或3，建立良好關係
- 但要記住：他們對你好，是為了之後利用你
- 達成目標：建立職場關係，但保持警覺

**改變點**：從「你被忽略」→「你被接納，但保持警覺」

**改變後的結果**：
- 你建立良好的職場關係
- 但你會保持警覺，不會完全信任
- 為之後揭露陷害做準備

#### 挑戰2：被裁掉的家庭合照（2019年2月10日）

**故事背景**：
- 農曆新年，全家團聚
- 親戚來訪，大家要拍全家福
- 拍照時，你被安排站在最邊緣
- 照片出來後，你發現自己被裁掉了

**具體情境**：
- 拍照時，你被擠到最邊緣
- 攝影師說：「邊緣的人往裡站一點，不然會被裁掉」
- 沒有人為你讓出位置
- 照片出來後，你發現自己只露出半張臉

**NPC初始情緒**：父母、親戚 - 冷漠（習慣性忽略你的存在）

**對話機制**：
- **回合限制**：4句對話
- **目標情緒**：讓父母從「冷漠」→「認同」或「尊重」

**對話範例**：
- **攝影師**：「邊緣的人往裡站一點，不然會被裁掉」（對你說）
- **父親**：「沒關係，就這樣拍吧。」（冷漠）
- **玩家選項**：
  1. 「爸，我也是這個家的一份子，我想站在中間和大家一起拍照。」
  2. 「沒關係，我站邊緣就好。」（順從，不會改變）
  3. 「如果照片裡沒有我，那這張照片就不完整了。」

**成功路徑**：
- 選擇1或3，讓父母意識到你的存在
- 父母情緒變化：冷漠 → 震驚 → 認同/尊重
- 達成目標：你站在照片中央

**改變點**：從「你被裁掉了」→「你就在照片中央」

**改變後的結果**：
- 你站在照片中央，與家人並列
- 這張照片成為你改變的見證
- 家人開始把你當成家庭的重要成員

#### 挑戰3：被忽視的成就（2019年3月20日）

**故事背景**：
- 你找到第一份工作，通過試用期
- 你興奮地告訴家人這個好消息
- 但家人的反應很冷淡

**具體情境**：
- 你回到家，興奮地說：「我通過試用期了！」
- 父親只是「嗯」了一聲，繼續看電視
- 母親說：「那很好啊」，但語氣平淡
- 兄弟姐妹沒有反應，繼續做自己的事

**NPC初始情緒**：父親 - 冷漠，母親 - 冷漠

**對話機制**：
- **回合限制**：4句對話
- **目標情緒**：讓父親從「冷漠」→「欣賞」或「認同」

**對話範例**：
- **你**：「我通過試用期了！」（興奮）
- **父親**：「嗯。」（冷漠，繼續看電視）
- **母親**：「那很好啊。」（語氣平淡）
- **玩家選項**：
  1. 「爸，這是我第一份工作，我真的很努力才通過試用期，我希望你能為我感到驕傲。」
  2. 「沒關係，我知道你們不在意。」（消極，不會改變）
  3. 「我知道這對你們來說不算什麼，但對我來說很重要，我希望得到你們的認可。」

**成功路徑**：
- 選擇1或3，讓父親意識到你的努力
- 父親情緒變化：冷漠 → 震驚 → 欣賞/認同
- 達成目標：父親為你感到驕傲

**改變點**：從「沒有人在意」→「家人為你感到驕傲」

**改變後的結果**：
- 家人為你感到驕傲
- 父親會主動詢問你的工作情況
- 你獲得家人的支持和鼓勵

#### 挑戰4：家庭決策被排除（2019年4月5日）

**故事背景**：
- 家裡要決定是否搬家
- 這是一個重大決策，會影響全家人的生活
- 但沒有人詢問你的意見

**具體情境**：
- 父母和兄弟姐妹在客廳討論搬家的事
- 你從房間出來，聽到他們在討論
- 你問：「那我的意見呢？」
- 父親說：「你還年輕，不懂這些。我們決定就好。」

**NPC初始情緒**：父親 - 冷漠（不重視你的意見）

**對話機制**：
- **回合限制**：4句對話
- **目標情緒**：讓父親從「冷漠」→「尊重」或「認同」

**改變點**：從「你不在場」→「你的意見被重視」

**改變後的結果**：
- 你的意見被納入考慮
- 家人開始尊重你的想法
- 你成為家庭決策的一部分

#### 挑戰5：被誤解的動機（2019年5月12日）

**故事背景**：
- 你用自己的薪水買了禮物給家人
- 但家人誤解你的動機，認為你是在討好他們

**具體情境**：
- 你買了禮物給每個人
- 母親說：「你突然這麼好，是不是有什麼目的？」
- 兄弟姐妹懷疑你是在討好父母
- 沒有人相信你是真心想表達感謝

**挑戰目標**：
- 澄清誤解，讓家人理解你的真實動機
- 建立真誠的家庭關係

**改變點**：從「你被誤解」→「家人理解你的善意」

**改變後的結果**：
- 家人理解你的善意
- 家庭關係更加真誠
- 你獲得家人的信任

#### 挑戰6：家庭聚會的邊緣人（2019年6月8日）

**故事背景**：
- 大型家庭聚會，所有親戚都來了
- 你被安排在角落，沒有人跟你說話
- 你感覺自己像個隱形人

**具體情境**：
- 聚會中，大家都在聊天
- 你坐在角落，沒有人注意到你
- 親戚們談論其他兄弟姐妹的成就
- 沒有人提到你，甚至沒有人看你一眼

**挑戰目標**：
- 主動參與對話，不再被當成隱形人
- 讓親戚們認識真正的你

**改變點**：從「你不在場」→「你是聚會的焦點之一」

**改變後的結果**：
- 你成為聚會的焦點之一
- 親戚們開始認識你
- 你獲得家庭中的認同

---

### 2. 職場挫敗類（6個挑戰）

**對應前情提要場景**：場景二「職場慢性凌遲」
**難度**：中等-困難（4-5回合）

#### 挑戰7：被改名的功勞（2019年7月15日）

**故事背景**：
- 你完成了一個重要專案
- 但主管在報告時，把你的名字改成了同事的名字
- 你發現自己的功勞被偷走了

**具體情境**：
- 專案報告會議上，主管說：「這個專案是XXX完成的」
- 你發現主管說的是同事的名字，而不是你的
- 你舉手想發言，但主管說：「會議繼續，不要打斷」
- 同事們都知道這是你做的，但沒有人站出來

**NPC初始情緒**：主管 - 冷漠（不記得你的名字）

**對話機制**：
- **回合限制**：5句對話（困難挑戰）
- **目標情緒**：讓主管從「冷漠」→「愧疚」或「尊重」

**對話範例**：
- **主管**：「這個專案是XXX完成的。」（冷漠，說錯名字）
- **玩家選項**：
  1. 「主管，這個專案是我完成的，不是XXX。」（積極對抗）
  2. 「...」（沉默，不會改變）
  3. 「我可以補充說明一下這個專案的細節嗎？」（溫和堅持）

**成功路徑**：
- 選擇1，堅持對抗
- 主管情緒變化：冷漠 → 震驚 → 愧疚
- 達成目標：主管記住你的名字

**改變點**：從「功勞被拿走」→「你的名字被記住」

**改變後的結果**：
- 你的名字被記住
- 你獲得應得的認可
- 主管開始重視你的工作

#### 挑戰8：會議室裡的提案（2019年8月20日）

**故事背景**：
- 你提出了一個創新的提案
- 但在會議中，同事搶先說出了你的想法
- 主管以為這是同事的提案

**具體情境**：
- 會議中，你準備提出提案
- 但同事搶先說：「我有一個想法...」
- 他說的正是你的提案內容
- 主管說：「這個想法很好，XXX，你來負責執行」

**挑戰目標**：
- 在會議中勇敢發聲，證明這是你的提案
- 讓你的創意被認可

**改變點**：從「提案被偷走」→「你的創意被認可」

**改變後的結果**：
- 你的創意被認可
- 你獲得執行提案的機會
- 同事開始尊重你的創意

#### 挑戰9：加班夜的孤獨（2019年9月10日）

**故事背景**：
- 辦公室只剩你一個人加班
- 主管要求你完成不屬於你的工作
- 你感到疲憊和孤獨

**具體情境**：
- 晚上9點，辦公室只剩你一個人
- 主管打電話來：「這個工作明天要交，你幫忙完成一下」
- 你已經連續加班一週了
- 你感到疲憊，但不知道怎麼拒絕

**挑戰目標**：
- 拒絕不合理的工作分配，設定界線
- 保護自己的時間和健康

**改變點**：從「你最好相處」→「你懂得保護自己」

**改變後的結果**：
- 你懂得保護自己
- 主管開始尊重你的時間
- 你獲得工作與生活的平衡

#### 挑戰10：被推卸的黑鍋（2019年10月5日）

**故事背景**：
- 專案出問題，責任被推到你身上
- 你知道這不是你的錯，但沒有人相信你

**具體情境**：
- 專案失敗，客戶投訴
- 主管在會議上說：「這個專案是XXX負責的，出了問題要負責」
- 你發現主管說的是你的名字
- 但這個專案的問題是同事造成的，不是你

**挑戰目標**：
- 澄清事實，拒絕承擔不屬於你的責任
- 讓真相被揭露

**改變點**：從「你背黑鍋」→「真相被揭露」

**改變後的結果**：
- 真相被揭露
- 你不再背黑鍋
- 同事開始對你負責

#### 挑戰11：被當成便宜勞工（2019年11月12日）

**故事背景**：
- 主管要求你做額外工作，但不給報酬
- 你發現自己被當成便宜勞工
- 你感到不公平，但不知道怎麼說

**具體情境**：
- 主管說：「這個工作你來做，反正你時間多」
- 你發現這個工作應該有額外報酬
- 但主管沒有提到報酬
- 你猶豫要不要提出來

**挑戰目標**：
- 要求合理的報酬或拒絕不合理要求
- 讓你的價值被認可

**改變點**：從「你很便宜」→「你的價值被認可」

**改變後的結果**：
- 你的價值被認可
- 你獲得合理的報酬
- 主管開始尊重你的專業

#### 挑戰12：職場中的隱形人（2019年12月20日）

**故事背景**：
- 公司年終聚會
- 你被安排在角落，沒有人跟你說話
- 你感覺自己在職場中像個隱形人

**具體情境**：
- 年終聚會，大家都在聊天
- 你坐在角落，沒有人注意到你
- 主管和同事們談論其他人的成就
- 沒有人提到你，甚至沒有人看你一眼

**挑戰目標**：
- 主動參與對話，讓同事記住你的存在
- 成為團隊的重要成員

**改變點**：從「你不在場」→「你是團隊的重要成員」

**改變後的結果**：
- 你成為團隊的重要成員
- 同事開始認識你
- 你獲得職場中的認同

---

### 3. 人際關係類（5個挑戰）

**對應前情提要場景**：場景三「愛情只是交易」、場景四「被榨乾的一天」
**難度**：中等-困難（4-5回合）

#### 挑戰13：不在照片裡的戀人（2020年1月14日）

**故事背景**：
- 你開始了一段戀情
- 但戀人從不在社群媒體上公開你們的關係
- 你發現自己不在戀人的照片裡

**具體情境**：
- 戀人在社群媒體上發了一張照片
- 照片裡有朋友、有風景，但沒有你
- 你問：「為什麼照片裡沒有我？」
- 戀人說：「我們還沒到那個階段，不要急」

**挑戰目標**：
- 要求被公開承認，不再當隱形伴侶
- 讓戀人認真對待這段關係

**改變點**：從「你只是選項」→「你是被選擇的人」

**改變後的結果**：
- 你被公開承認
- 戀人開始認真對待這段關係
- 你獲得戀人的尊重

#### 挑戰14：被送給別人的禮物（2020年2月20日）

**故事背景**：
- 你送給戀人的禮物，出現在別人的照片裡
- 你發現戀人可能背叛了你
- 你感到痛苦和憤怒

**具體情境**：
- 你在社群媒體上看到一張照片
- 照片裡的人拿著你送給戀人的禮物
- 你問戀人：「這是怎麼回事？」
- 戀人說：「我只是借給朋友，你不要想太多」

**挑戰目標**：
- 面對真相，要求對方誠實對待這段關係
- 讓自己值得被認真對待

**改變點**：從「你連被背叛的資格都沒有」→「你值得被認真對待」

**改變後的結果**：
- 你值得被認真對待
- 戀人開始誠實對待這段關係
- 你獲得戀人的尊重

#### 挑戰15：通訊錄裡的空白（2020年3月15日）

**故事背景**：
- 你遇到困難，需要幫助
- 你打開通訊錄，發現沒有人可以打
- 你感到孤獨和無助

**具體情境**：
- 你遇到緊急情況，需要幫助
- 你打開通訊錄，翻了一遍又一遍
- 你發現所有的朋友都已經疏遠了
- 你感到絕望，不知道該怎麼辦

**挑戰目標**：
- 主動聯繫朋友，修復破裂的友誼
- 讓自己不再孤獨

**改變點**：從「沒有人接」→「有人願意幫助你」

**改變後的結果**：
- 有人願意幫助你
- 你修復了友誼
- 你不再孤獨

#### 挑戰16：被利用的善良（2020年4月10日）

**故事背景**：
- 朋友只在你需要時才找你
- 你發現自己被當成工具
- 你感到被利用

**具體情境**：
- 朋友打電話來：「我需要幫忙，你可以來一下嗎？」
- 你發現朋友只有在需要幫助時才會找你
- 你問：「為什麼你只有在需要幫助時才找我？」
- 朋友說：「我們是朋友啊，互相幫助是應該的」

**挑戰目標**：
- 設定界線，拒絕被單方面利用
- 建立真正的友誼

**改變點**：從「你只是工具」→「友誼是雙向的」

**改變後的結果**：
- 友誼是雙向的
- 你獲得真正的友誼
- 你不再被利用

#### 挑戰17：社交場合的邊緣人（2020年5月20日）

**故事背景**：
- 聚會中，你被擠到最邊緣
- 沒有人跟你說話
- 你感覺自己被孤立

**具體情境**：
- 聚會中，大家都在聊天
- 你被擠到最邊緣，沒有人注意到你
- 你試圖加入對話，但沒有人回應
- 你感到被孤立，不知道該怎麼辦

**挑戰目標**：
- 主動參與對話，建立真正的社交關係
- 讓自己被接納

**改變點**：從「你被孤立」→「你被接納」

**改變後的結果**：
- 你被接納
- 你建立真正的社交關係
- 你不再被孤立

---

### 4. 自我認同類（3個挑戰）

**對應前情提要場景**：場景四「被榨乾的一天」、場景五「死亡發生」
**難度**：困難（5回合）
**特殊機制**：這些挑戰是與「過去的自己」對話，需要擊破內心的防線

#### 挑戰18：自我懷疑的瞬間（2020年7月5日）

**故事背景**：
- 你開始懷疑自己存在的價值
- 你覺得自己一無是處
- 你感到絕望

**具體情境**：
- 你一個人坐在房間裡
- 你開始懷疑自己：「我到底有什麼用？」
- 你覺得自己一無是處，沒有人需要你
- 你感到絕望，不知道該怎麼辦

**挑戰目標**：
- 重建自信，認可自己的價值
- 讓自己值得被愛

**改變點**：從「你沒有價值」→「你值得被愛」

**改變後的結果**：
- 你值得被愛
- 你認可自己的價值
- 你獲得自信

#### 挑戰19：放棄的時刻（2020年9月15日）

**故事背景**：
- 你準備放棄某個重要目標
- 你覺得自己做不到
- 你感到無力

**具體情境**：
- 你面對一個重要的目標
- 你覺得自己做不到，想要放棄
- 你對自己說：「我做不到，算了吧」
- 你感到無力，不知道該怎麼辦

**挑戰目標**：
- 堅持下去，證明自己可以做到
- 讓自己不再放棄

**改變點**：從「你撐不住」→「你堅持下來了」

**改變後的結果**：
- 你堅持下來了
- 你證明自己可以做到
- 你獲得堅持的力量

#### 挑戰20：最後的求救（2020年12月20日）

**故事背景**：
- 你感到絕望，想要求救
- 但沒有人接你的電話
- 你感到徹底的孤獨

**具體情境**：
- 你感到絕望，想要求救
- 你打電話給朋友，但沒有人接
- 你打電話給家人，但沒有人接
- 你感到徹底的孤獨，不知道該怎麼辦

**挑戰目標**：
- 學會向內求，建立內在力量
- 讓自己學會接住自己

**改變點**：從「沒有人接住你」→「你學會接住自己」

**改變後的結果**：
- 你學會接住自己
- 你建立內在力量
- 你不再依賴他人

---

## 挑戰流程（初步設計）

### 1. 挑戰選擇

#### 方式一：按順序進行
- 按照時間順序，從5年前開始
- 逐步推進到現在
- 線性流程，確保故事連貫

#### 方式二：自由選擇
- 玩家可選擇挑戰順序
- 但某些挑戰有前置條件
- 需要完成特定挑戰才能解鎖

### 2. 進入挑戰

#### 場景呈現
- **背景**：關鍵事件的場景
- **角色**：相關人物出現
- **目標**：顯示挑戰目標

#### 系統提示
- 「這是5年前的某一天...」
- 「你需要改變這個時刻...」
- 「與角色對話，改變事件的走向...」

### 3. 對話系統

#### 對話流程
1. **場景呈現**：顯示當前情境和NPC
2. **NPC初始對話**：NPC說出第一句話，顯示初始情緒
3. **玩家選擇**：從3-4個選項中選擇回應
4. **情緒變化**：根據選擇，NPC情緒發生變化
5. **繼續對話**：根據情緒變化，NPC繼續回應
6. **達成目標**：達到目標情緒狀態即完成挑戰

#### 對話選項設計原則
- **積極對抗**：直接表達需求，可能獲得尊重或引起憤怒
- **溫和堅持**：用溫和但堅定的方式表達，更容易獲得認同
- **順從消極**：不會改變現狀，導致失敗
- **情感訴求**：用情感打動對方，可能獲得愧疚或認同

#### AI對話系統整合
- **動態生成**：根據玩家選擇和NPC情緒，動態生成NPC回應
- **情緒判定**：AI判斷NPC當前情緒狀態
- **成功判定**：自動判定是否達成目標情緒

#### 角色反應邏輯
- **情緒累積**：每次對話都會影響NPC情緒
- **情緒轉化**：負面情緒（如憤怒）可能轉化為正面（如尊重）
- **情緒閾值**：達到特定情緒閾值即完成挑戰

### 4. 完成挑戰

#### 成功判定
- 達成挑戰目標
- 改變事件走向
- 改變對應角色的看法
- 獲得系統認可

#### 獎勵
- **進度+1**：挑戰進度更新（X/20）
- **看法改變**：對應角色的看法改變（例如：家人從「你不存在」→「你就在這裡」）
- **成就解鎖**：可能解鎖相關成就
- **故事推進**：推進主線故事

#### 失敗處理
- **重試機制**：可重試（次數待定）
- **提示系統**：提供提示幫助玩家
- **難度調整**：根據失敗次數調整難度

---

## 進度系統

### 進度顯示
- **總進度**：X/20
- **分類進度**：
  - 家庭關係：X/6
  - 職場挫敗：X/6
  - 人際關係：X/5
  - 自我認同：X/3

### 進度獎勵
- **里程碑**：每完成5個挑戰，獲得獎勵
- **分類完成**：完成某個分類，獲得特殊獎勵
- **全部完成**：完成所有20個挑戰，觸發結局

### 挑戰與前情提要的對應
- **家庭關係類**：對應前情提要場景一「家庭冷暴力」
- **職場挫敗類**：對應前情提要場景二「職場慢性凌遲」
- **人際關係類**：對應前情提要場景三「愛情只是交易」和場景四「被榨乾的一天」
- **自我認同類**：對應前情提要場景四「被榨乾的一天」和場景五「死亡發生」

---

## 後續完善方向

### 對話系統
- **AI對話**：整合AI對話系統，讓角色更靈活（詳見對話機制設計.md）
- **選項設計**：設計多樣化的對話選項（已建立設計原則）
- **分支劇情**：根據選擇產生不同的分支劇情
- **情緒系統**：完善情緒轉化機制和視覺呈現

### 難度系統
- **難度等級**：根據挑戰類型設定難度
- **動態調整**：根據玩家表現動態調整難度
- **提示系統**：提供適當的提示幫助玩家

### 重試機制
- **重試次數**：設定重試次數限制
- **重試成本**：重試需要付出代價（時間/資源）
- **學習機制**：從失敗中學習，提供更好的選項

### 成就系統
- **挑戰成就**：完成特定挑戰獲得成就
- **分類成就**：完成某個分類獲得成就
- **特殊成就**：達成特殊條件獲得成就

