# 難度平衡測試數據

> 目的：定義各時刻的預期通過率、屬性變動數值的平衡測試用例、難度調整建議。  
> 依賴文件：`出場角色.md`（屬性變動規則）、`Moment Spec 表.md`（難度設定）、`計分公式.md`（評分標準）。

---

## 1) 測試目標

### 1.1 平衡目標

- **預期通過率**：各時刻應有合理的通過率（不應過於簡單或困難）
- **屬性變動平衡**：選項造成的屬性變動應有明確的影響，但不應過於極端
- **難度曲線**：難度應逐步上升，不應有突然的難度跳躍
- **重玩價值**：失敗後重玩應有改進空間，不應完全依賴運氣

### 1.2 測試指標

- **通過率**：各時刻的預期通過率
- **平均輪次**：各時刻的平均完成輪次
- **屬性變動範圍**：各選項造成的屬性變動範圍
- **失敗原因分布**：失敗原因的分布（輪次用完、屬性崩壞、未達目標）

---

## 2) 各時刻預期通過率

### 2.1 低壓時刻（3-4 輪）

| momentId | title | 預期通過率 | 平均輪次 | 說明 |
|----------|-------|-----------|---------|------|
| 1 | 初入職場的歡迎 | 85% | 2.5 | 教學關，引導玩家理解機制 |
| 2 | 第一次合作 | 80% | 2.8 | 繼續教學，增加難度 |
| 3 | 職場聚會 | 75% | 3.0 | 開始增加難度 |
| 4 | 第一次約會 | 80% | 2.7 | 轉換場景，保持難度 |
| 5 | 情人的承諾 | 75% | 3.2 | 增加難度 |

**設計原則**：
- 前 3 個時刻偏「引導」（教你：警覺/不暴露弱點/選項差異）
- 通過率較高，讓玩家理解機制
- 平均輪次接近上限，但不應超過

### 2.2 升壓時刻（5-6 輪）

| momentId | title | 預期通過率 | 平均輪次 | 說明 |
|----------|-------|-----------|---------|------|
| 6 | 第一次被搶功 | 70% | 4.5 | 衝突升級，難度上升 |
| 7 | 被推卸責任 | 65% | 4.8 | 難度進一步上升 |
| 8 | 被當成工具 | 65% | 4.7 | 保持難度 |
| 9 | 情人的謊言 | 70% | 4.3 | 轉換場景，難度適中 |
| 10 | 不在照片裡的戀人 | 60% | 5.2 | 難度上升 |

**設計原則**：
- 衝突升級，玩家開始反擊
- 通過率下降，但仍有改進空間
- 平均輪次接近上限，考驗玩家策略

### 2.3 高壓時刻（7-8 輪）

| momentId | title | 預期通過率 | 平均輪次 | 說明 |
|----------|-------|-----------|---------|------|
| 11 | 被霸凌離職 | 55% | 6.5 | 高難度，關鍵線索 |
| 12 | 職場名聲被毀 | 50% | 6.8 | 高難度，關鍵線索 |
| 13 | 情人的徹底傷害 | 55% | 6.3 | 高難度，關鍵線索 |
| 14 | 最後的求救 | 60% | 7.2 | 最終關，自我救贖 |

**設計原則**：
- 徹底霸凌，玩家面臨最嚴重的挑戰
- 通過率較低，但仍有可達成性
- 平均輪次接近上限，考驗玩家極限

---

## 3) 屬性變動平衡測試

### 3.1 選項類型屬性變動範圍

| 選項類型 | NPC 屬性變動範圍 | 你的屬性變動範圍 | 說明 |
|---------|----------------|----------------|------|
| 積極對抗 | 尊重 +10, 信任 -5, 警戒 +10, 憤怒 +15, 壓力 +10 | 設界線 +10, 自我價值 +5, 依賴 -5 | 強硬但可能引起對立 |
| 溫和堅持 | 尊重 +10, 信任 +10, 警戒 -5, 困惑 +5, 壓力 +5 | 設界線 +8, 自我價值 +5, 情緒穩定 +5 | 平衡，推薦選項 |
| 情感訴求 | 罪惡感 +15, 信任 +5, 警戒 -5, 壓力 +5 | 自我價值 +3, 依賴 +3 | 可能有效，但增加依賴 |
| 順從消極 | 尊重 -10, 信任 -5, 警戒 -5, 冷漠傾向 +10 | 設界線 -10, 自我價值 -10, 依賴 +10, 警覺 -5 | 錯誤選項，導致失敗 |

### 3.2 屬性變動平衡原則

- **單次變動範圍**：-15 到 +15（避免過於極端）
- **累積變動**：3-4 輪對話後，屬性變動應有明顯影響
- **目標達成**：達成目標情緒/屬性閾值應需要 2-3 輪正確選擇

### 3.3 測試用例

**測試用例 1：時刻 1（初入職場的歡迎）**

**初始狀態**：
- 同事A：信任 60, 警戒 45, 尊重 40
- 目標：尊重

**測試路徑 1（正確）**：
- Round 1：選擇「溫和堅持」（尊重 +10, 信任 +10）
- Round 2：選擇「溫和堅持」（尊重 +10, 信任 +10）
- **結果**：尊重 60，達成目標 ✅

**測試路徑 2（錯誤）**：
- Round 1：選擇「順從消極」（尊重 -10, 信任 -5）
- Round 2：選擇「順從消極」（尊重 -10, 信任 -5）
- **結果**：尊重 20，未達成目標 ❌

**測試路徑 3（混合）**：
- Round 1：選擇「積極對抗」（尊重 +10, 信任 -5, 警戒 +10）
- Round 2：選擇「溫和堅持」（尊重 +10, 信任 +10）
- **結果**：尊重 60，達成目標 ✅（但信任較低）

---

## 4) 失敗原因分布

### 4.1 預期失敗原因分布

| 失敗原因 | 預期比例 | 說明 |
|---------|---------|------|
| 輪次用完 | 40% | 最常見的失敗原因 |
| 屬性崩壞 | 35% | 警戒/壓力過高導致不可逆 |
| 未達目標 | 25% | 未能達成目標情緒/屬性閾值 |

### 4.2 失敗原因分析

**輪次用完**：
- **原因**：玩家選擇效率低，或選擇了錯誤的選項類型
- **改進**：提供提示（金手指），或允許「逼他說清楚（+5 句）」

**屬性崩壞**：
- **原因**：玩家選擇了過於激進的選項，導致 NPC 警戒/壓力過高
- **改進**：提供提示，或調整屬性變動數值

**未達目標**：
- **原因**：玩家選擇了錯誤的選項類型，未能有效改變 NPC 情緒
- **改進**：提供提示，或調整目標閾值

---

## 5) 難度調整建議

### 5.1 難度過高時的調整

**症狀**：
- 通過率低於預期 20% 以上
- 平均輪次超過上限
- 失敗原因集中在「輪次用完」

**調整方案**：
1. **降低目標閾值**：例如，尊重從 70 降到 65
2. **增加輪次上限**：例如，從 5 輪增加到 6 輪
3. **調整屬性變動**：增加正確選項的屬性變動值
4. **提供更多提示**：增加金手指提示的可用性

### 5.2 難度過低時的調整

**症狀**：
- 通過率高於預期 20% 以上
- 平均輪次遠低於上限
- 玩家感覺太簡單

**調整方案**：
1. **提高目標閾值**：例如，尊重從 70 提高到 75
2. **減少輪次上限**：例如，從 5 輪減少到 4 輪
3. **調整屬性變動**：減少正確選項的屬性變動值
4. **增加失敗風險**：增加屬性崩壞的風險

---

## 6) 平衡測試流程

### 6.1 測試階段

1. **單元測試**：測試各選項的屬性變動是否正確
2. **整合測試**：測試完整時刻流程是否正確
3. **平衡測試**：測試難度是否平衡
4. **用戶測試**：收集真實玩家的通過率和反饋

### 6.2 測試數據收集

**需要收集的數據**：
- 各時刻的通過率
- 各時刻的平均輪次
- 各選項的選擇頻率
- 失敗原因的分布
- 玩家屬性變動的分布

**數據分析**：
- 識別難度不平衡的時刻
- 識別屬性變動不平衡的選項
- 識別失敗原因集中的問題

### 6.3 迭代調整

**調整週期**：
- 每週收集數據
- 每月進行平衡調整
- 每季度進行大規模平衡調整

**調整原則**：
- 小幅度調整，避免大幅改變遊戲體驗
- 基於數據調整，而非主觀判斷
- 保持遊戲的核心體驗不變

---

## 7) 測試用例範例

### 7.1 時刻 7（被推卸責任）測試用例

**初始狀態**：
- 主管：信任 45, 警戒 55, 尊重 45, 困惑 +20（情境修正）
- 目標：尊重
- 輪次上限：5

**測試路徑 1（理想路徑）**：
- Round 1：選擇「溫和堅持 + 證據」（尊重 +10, 信任 +10, 困惑 +5）
- Round 2：選擇「溫和堅持 + 證據」（尊重 +10, 信任 +10）
- Round 3：選擇「溫和堅持」（尊重 +10, 信任 +10）
- **結果**：尊重 75，達成目標 ✅（3 輪完成）

**測試路徑 2（困難路徑）**：
- Round 1：選擇「積極對抗 + 證據」（尊重 +10, 信任 -5, 警戒 +10, 憤怒 +15）
- Round 2：選擇「溫和堅持 + 證據」（尊重 +10, 信任 +10）
- Round 3：選擇「溫和堅持」（尊重 +10, 信任 +10）
- Round 4：選擇「溫和堅持」（尊重 +10, 信任 +10）
- **結果**：尊重 75，達成目標 ✅（4 輪完成，但信任較低）

**測試路徑 3（失敗路徑）**：
- Round 1：選擇「順從消極」（尊重 -10, 信任 -5）
- Round 2：選擇「順從消極」（尊重 -10, 信任 -5）
- Round 3：選擇「順從消極」（尊重 -10, 信任 -5）
- **結果**：尊重 15，未達成目標 ❌（屬性崩壞）

---

## 總結

難度平衡測試數據包括：

1. **預期通過率**：各時刻的預期通過率和平均輪次
2. **屬性變動平衡**：選項造成的屬性變動範圍和測試用例
3. **失敗原因分布**：預期失敗原因的分布和分析
4. **難度調整建議**：難度過高/過低時的調整方案
5. **測試流程**：測試階段、數據收集、迭代調整
6. **測試用例範例**：具體時刻的測試用例

建議按照階段逐步實施，先建立基礎的測試框架，再逐步完善測試數據和調整機制。

